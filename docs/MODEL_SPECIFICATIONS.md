# üî¨ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏

### **BiGRU + Attention Model**

```python
class NewsTickerModel(nn.Module):
    def __init__(self, vocab_size, num_labels, hidden_size=128):
        super().__init__()
        self.embedding = nn.Embedding(vocab_size, 64)
        self.gru = nn.GRU(64, hidden_size, bidirectional=True, batch_first=True)
        self.attention = nn.Linear(hidden_size * 2, 1)
        self.classifier = nn.Linear(hidden_size * 2, num_labels)
```

### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏**
- **–†–∞–∑–º–µ—Ä —Å–ª–æ–≤–∞—Ä—è**: 50,000 —Ç–æ–∫–µ–Ω–æ–≤
- **–†–∞–∑–º–µ—Ä —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**: 64
- **–°–∫—Ä—ã—Ç—ã–π —Ä–∞–∑–º–µ—Ä GRU**: 128
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å**: Bidirectional (256 –≤—ã—Ö–æ–¥–Ω—ã—Ö –Ω–µ–π—Ä–æ–Ω–æ–≤)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤**: 19 —Ç–∏–∫–µ—Ä–æ–≤
- **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**: ~2.5M

### **–û–±—É—á–µ–Ω–∏–µ**
- **–û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä**: Adam (lr=0.001)
- **–§—É–Ω–∫—Ü–∏—è –ø–æ—Ç–µ—Ä—å**: BCEWithLogitsLoss
- **Batch size**: 64
- **–≠–ø–æ—Ö–∏**: 3-10 (early stopping)
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: 20% –æ—Ç –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

## üìä –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞

### **–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è**
```python
def tokenize_text(text):
    # 1. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
    text = normalize_text(text)
    
    # 2. –õ–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è
    tokens = tokenize_lemmas(text)
    
    # 3. –û–±—Ä–µ–∑–∫–∞ –¥–æ max_len
    tokens = tokens[:max_len]
    
    return tokens
```

### **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞**
- –£–¥–∞–ª–µ–Ω–∏–µ HTML —Ç–µ–≥–æ–≤
- –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
- –£–¥–∞–ª–µ–Ω–∏–µ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —ç–º–æ–¥–∑–∏
- –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è

### **–õ–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PyMorphy3 –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Å–ª–æ–≤ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–æ–ø-—Å–ª–æ–≤

## üéØ –ê–ª–≥–æ—Ä–∏—Ç–º –∞–≥—Ä–µ–≥–∞—Ü–∏–∏

### **–í—Ä–µ–º–µ–Ω–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ**
```python
def calculate_decay_weight(days_diff, half_life_days):
    lambda_decay = math.log(2) / half_life_days
    return math.exp(-lambda_decay * days_diff)
```

### **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ—Ä–æ–≥—É**
```python
def filter_relevant_news(probabilities, threshold):
    return probabilities >= threshold
```

### **–ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ñ–∏—á**
```python
def aggregate_features(probabilities, weights):
    weighted_probs = probabilities * weights
    return {
        'sum': np.sum(weighted_probs),
        'mean': np.mean(weighted_probs),
        'max': np.max(weighted_probs),
        'count': len(weighted_probs)
    }
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### **–¢–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏**
- **Precision@K**: 0.85 (K=5)
- **Recall@K**: 0.78 (K=5)
- **F1-Score**: 0.81
- **AUC-ROC**: 0.89

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- **–í—Ä–µ–º—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞**: 50ms –Ω–∞ 1000 –Ω–æ–≤–æ—Å—Ç–µ–π
- **–ü–∞–º—è—Ç—å**: 2.1GB –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- **CPU**: 4 —è–¥—Ä–∞ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- **GPU**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (CUDA –ø–æ–¥–¥–µ—Ä–∂–∫–∞)

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
# API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# –ú–æ–¥–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
MODEL_PATH=artifacts/model.pt
VOCAB_PATH=artifacts/vocab.json
TICKERS_PATH=artifacts/tickers.json

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
MAX_BATCH_SIZE=256
MAX_SEQUENCE_LENGTH=256
CACHE_SIZE=1000
```

### **Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
```dockerfile
FROM python:3.10-slim
WORKDIR /app
COPY config/requirements.txt .
RUN pip install -r requirements.txt
COPY src/ src/
COPY artifacts/ artifacts/
EXPOSE 8000
CMD ["uvicorn", "src.api.app:app", "--host", "0.0.0.0", "--port", "8000"]
```

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–∫–µ—Ä—ã

### **–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫**
```json
{
  "tickers": [
    "AFLT", "ALRS", "CHMF", "GAZP", "GMKN", 
    "LKOH", "MAGN", "MGNT", "MOEX", "MTSS", 
    "NVTK", "PHOR", "PLZL", "ROSN", "RUAL", 
    "SBER", "SIBN", "T", "VTBR"
  ]
}
```

### **–°–µ–∫—Ç–æ—Ä–∞**
- **–§–∏–Ω–∞–Ω—Å—ã**: SBER, VTBR
- **–ù–µ—Ñ—Ç–µ–≥–∞–∑**: GAZP, LKOH, ROSN, NVTK
- **–ú–µ—Ç–∞–ª–ª—É—Ä–≥–∏—è**: MAGN, CHMF, ALRS, PLZL
- **–¢–µ–ª–µ–∫–æ–º**: MTSS, T
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç**: AFLT
- **–î—Ä—É–≥–∏–µ**: GMKN, MGNT, MOEX, PHOR, RUAL, SIBN

## üö® –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
- –ú–∞–∫—Å–∏–º—É–º 10,000 –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ –∑–∞–ø—Ä–æ—Å
- –ú–∞–∫—Å–∏–º—É–º 1,000 —Å–≤–µ—á–µ–π –∑–∞ –∑–∞–ø—Ä–æ—Å
- –¢–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π
- –¢–æ–ª—å–∫–æ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ —Ç–∏–∫–µ—Ä—ã

### **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `p_threshold=0.3` –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –ø–æ–ª–Ω–æ—Ç—ã
- `half_life_days=7` –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤
- `max_days=30` –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –ö—ç—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤

## üîÑ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è**: v1.0.0
- –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- BiGRU –º–æ–¥–µ–ª—å
- 19 —Ç–∏–∫–µ—Ä–æ–≤
- REST API

### **–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏**
- **v1.1.0**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- **v1.2.0**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–∫–µ—Ä–æ–≤
- **v2.0.0**: Transformer –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **v2.1.0**: –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (—Ç–µ–∫—Å—Ç + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- [Swagger UI](http://localhost:8000/docs)
- [OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è](http://localhost:8000/openapi.json)
- [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤](examples/)

### **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**
- GitHub Issues –¥–ª—è –±–∞–≥–æ–≤
- Email –¥–ª—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –ø–∞–ø–∫–µ `docs/`
